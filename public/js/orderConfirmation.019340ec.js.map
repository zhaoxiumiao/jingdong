{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/views/orderConfirmation/ProductList.vue?7b1d","webpack:///./src/effects/cartEffects.js","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./src/views/orderConfirmation/OrderConfirmation.vue","webpack:///./src/views/orderConfirmation/TopArea.vue","webpack:///./src/views/orderConfirmation/TopArea.vue?0288","webpack:///./src/views/orderConfirmation/ProductList.vue","webpack:///./src/views/orderConfirmation/ProductList.vue?f29e","webpack:///./src/views/orderConfirmation/Order.vue","webpack:///./src/views/orderConfirmation/Order.vue?f2fe","webpack:///./src/views/orderConfirmation/OrderConfirmation.vue?5607","webpack:///./src/views/orderConfirmation/TopArea.vue?1ee4","webpack:///./src/views/orderConfirmation/OrderConfirmation.vue?145d","webpack:///./src/views/orderConfirmation/Order.vue?92ae"],"names":["toInteger","requireObjectCoercible","module","exports","count","str","String","this","result","n","Infinity","RangeError","classof","value","TypeError","useCommonCartEffect","shopId","store","useStore","cartList","state","changeCartItemInfo","productId","productInfo","num","commit","productList","computed","notEmptyProductList","i","product","shopName","calculations","total","price","allChecked","check","toFixed","$","thisNumberValue","repeat","fails","nativeToFixed","floor","Math","pow","x","acc","log","x2","multiply","data","c","index","c2","divide","dataToString","s","t","call","length","FORCED","target","proto","forced","fractionDigits","e","z","j","k","number","fractDigits","sign","slice","class","handleBackClick","name","setup","router","back","render","__scopeId","item","key","_id","src","imgUrl","route","params","id","handleSubmitClick","handleConfirmOrder","showConfirm","isCanceled","products","push","parseInt","console","addressId","errno","status","components","TopArea","ProductList","Order"],"mappings":"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","file":"js/orderConfirmation.019340ec.js","sourcesContent":["'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProductList.vue?vue&type=style&index=0&id=d69e36d0&lang=scss&scoped=true\"","import {computed} from 'vue'\nimport { useStore } from 'vuex'\n\n//购物车逻辑\n\nexport const useCommonCartEffect = (shopId) =>{\n    const store = useStore()\n    const cartList = store.state.cartList\n    const changeCartItemInfo = (shopId, productId, productInfo, num) => {\n        store.commit('changeCartItemInfo',{\n            shopId, productId, productInfo, num\n        })\n    }\n    const productList = computed(()=>{\n        const productList = cartList[shopId]?.productList || []\n        const notEmptyProductList = {}\n        for(let i in productList){\n            const product = productList[i]\n            if(product.count > 0){\n                notEmptyProductList[i] = product\n            }\n        }\n        return notEmptyProductList\n    })\n    const shopName = computed(()=>{\n        const shopName = cartList[shopId]?.shopName || ''\n        return shopName\n    })\n\n    const calculations = computed(()=>{\n        const productList = cartList[shopId]?.productList\n        const result = {total:0, price:0, allChecked:true}\n        if(productList){\n            for(let i in productList){\n            const product = productList[i]\n            result.total += product.count\n            if(product.check){\n                result.price += (product.count * product.price)\n            }\n            if(product.count > 0 && !product.check){\n                result.allChecked = false\n            }\n            }\n        }\n        result.price = result.price.toFixed(2)\n        return result\n    })\n\n    return { changeCartItemInfo, productList, cartList, shopName, calculations}\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","<template>\n<div class=\"wrapper\">\n  <TopArea />\n  <ProductList />\n    <Order />\n</div>\n</template>\n\n<script>\n\nimport TopArea from './TopArea'\nimport ProductList from './ProductList'\nimport Order from './Order'\nexport default {\n    name: 'OrderConfirmation',\n    components:{\n        TopArea,\n        ProductList,\n        Order\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.wrapper{\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background: #eee;\n    overflow: hidden;\n}\n</style>","<template>\n  <div class=\"top\">\n      <div class=\"top__header\">\n          <div \n            class=\"top__header__back iconfont\"\n            @click=\"handleBackClick\"\n            >&#xe601;</div>\n          确认订单\n      </div>\n      <div class=\"top__receiver\">\n          <div class=\"top__receiver__title\">收货地址</div>\n          <div class=\"top__receiver__address\">北京理工大学国防科技园2号楼10层</div>\n          <div class=\"top__receiver__info\">\n              <span class=\"top__receiver__info__name\">瑶妹 (先生) </span>\n              <span class=\"top__receiver__info__iphone\">18911024266 </span>\n          </div>\n          <div class=\"top__receiver__icon iconfont\">&#xe601;</div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport { useRouter } from 'vue-router'\nexport default {\n    name: 'TopArea',\n    setup(){\n        const router = useRouter()\n        const handleBackClick = () =>{\n            router.back()\n        }\n        return{handleBackClick}\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n.top{\n    position: relative;\n    height: 1.96rem;\n    background-size: 100% 1.59rem;\n    background-image: linear-gradient(0deg, rgba(0,145,255,0.00) 4%, #0091FF 50%);\n    \n    background-repeat: no-repeat;\n    &__header{\n        position: relative;\n        padding-top: .26rem;\n        line-height: .24rem;\n        color: $bgColor;\n        text-align: center;\n        font-size: .16rem;\n        &__back{\n            position: absolute;\n            left: .18rem;\n            font-size: .22rem;\n        }\n    }\n    &__receiver{\n        position: absolute;\n        left: .18rem;\n        right: .18rem;\n        bottom: 0;\n        height: 1.11rem;\n        background: $bgColor;\n        border-radius: .04rem;\n        &__title{\n            line-height: .22rem;\n            padding: .16rem 0 .14rem .16rem;\n            font-size: .16rem;\n            color: $content-fontcolor;\n        }\n        &__address{\n            line-height: .2rem;\n            padding: 0 .4rem 0 .16rem;\n            font-size: .14rem;\n            color: $content-fontcolor;\n        }\n        &__info{\n            padding: .06rem 0 0 .16rem;\n            &__name{\n                margin-right: .06rem;\n                line-height: .18rem;\n                font-size: .12rem;\n                color: $medium-fontColor;\n                \n            }\n        }\n        &__icon{\n            transform: rotate(180deg);\n            position: absolute;\n            right: .16rem;\n            top: .5rem;\n            color: $medium-fontColor;\n            font-size: .2rem;\n        }\n    }\n}\n</style>","import { render } from \"./TopArea.vue?vue&type=template&id=fcaf356a&scoped=true\"\nimport script from \"./TopArea.vue?vue&type=script&lang=js\"\nexport * from \"./TopArea.vue?vue&type=script&lang=js\"\n\nimport \"./TopArea.vue?vue&type=style&index=0&id=fcaf356a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-fcaf356a\"\n\nexport default script","<template>\n    <div class=\"products\">\n        <div class=\"products__title\">{{shopName}}</div>\n        <div class=\"products__list\">\n            <div \n                class=\"products__item\"\n                v-for=\"item in productList\"\n                :key=\"item._id\"\n            >\n                <img class=\"products__item__img\" :src=\"item.imgUrl\" />\n                <div class=\"products__item__detail\">\n                    <h4 class=\"products__item__title\">{{item.name}}</h4>\n                    <p class=\"products__item__price\">\n                        <span>\n                            <span class=\"products__item__yen\">&yen;</span>\n                            {{item.price}} x {{item.count}}\n                        </span>\n                        <span class=\"products__item__total\">\n                            <span class=\"products__item__yen\">&yen;</span>\n                            {{(item.price * item.count).toFixed(2)}}\n                        </span>\n                    </p>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { useRoute } from 'vue-router'\nimport {useCommonCartEffect} from '../../effects/cartEffects'\nexport default {\n    name: 'ProductList',\n    setup(){\n        const route = useRoute()\n        const shopId = route.params.id\n        const {productList, shopName} = useCommonCartEffect(shopId)\n        return {productList, shopName}\n    },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n@import '../../style/mixins.scss';\n.products{\n    margin: .16rem .18rem .55rem .18rem;\n    background: $bgColor;\n    &__title{\n        padding: .16rem 0 0 .16rem;\n        font-size: .16rem;\n        color: $content-fontcolor;\n    }\n    &__list{\n        overflow-y: scroll;\n        max-height: 3.5rem;\n        margin-bottom: .8rem;\n    }\n    &__item{\n        position: relative;\n        display: flex;\n        padding: .16rem;\n        \n        &__img{\n            width: .46rem;\n            height: .46rem;\n            margin-right: .16rem;\n        }\n        &__detail{\n            flex: 1;\n        }\n        &__title{\n            margin: 0;\n            line-height: .2rem;\n            font-size: .14rem;\n            color: $content-fontcolor;\n            @include ellipse;\n        }\n        &__price{\n            display: flex;\n            margin: .06rem 0 0 0;\n            line-height: .2rem;\n            font-size: .14rem;\n            color: $hightlight-fontColor;\n        }\n        &__total{\n            flex: 1;\n            text-align: right;\n            color: $dark-fontColor;\n        }\n        &__yen{\n            font-size: .12rem;\n        }\n    }\n}\n</style>","import { render } from \"./ProductList.vue?vue&type=template&id=d69e36d0&scoped=true\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\n\nimport \"./ProductList.vue?vue&type=style&index=0&id=d69e36d0&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-d69e36d0\"\n\nexport default script","<template>\n    <div>\n        <div class=\"order\">\n            <div class=\"order__price\">实付金额 &yen;<b>{{calculations.price}}</b></div>\n            <div \n                class=\"order__btn\"\n                @click=\"()=>handleSubmitClick(true)\"\n            >提交订单</div>\n        </div>\n        <div \n            class=\"mask\" \n            v-show=\"showConfirm\"\n            @click=\"()=>handleSubmitClick(false)\"\n        >\n            <div class=\"mask__content\" @click.stop>\n                <h3 class=\"mask__content__title\">确定要离开收银台?</h3>\n                <p class=\"mask__content__desc\">请尽快完成支付,否则将被取消</p>\n                <div class=\"mask__content__btns\">\n                    <div \n                        class=\"mask__content__btn mask__content__btn--first\"\n                        @click=\"()=> handleConfirmOrder(true)\"\n                    >\n                        取消订单\n                    </div>\n                    <div \n                        class=\"mask__content__btn mask__content__btn--last\"\n                        @click=\"() => handleConfirmOrder(false)\"\n                    >\n                        确认支付\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport {ref} from 'vue'\nimport {useCommonCartEffect} from '../../effects/cartEffects'\nimport {useStore} from 'vuex'\nimport { post } from '../../utils/request'\nimport { useRoute, useRouter } from 'vue-router'\n\n//下单逻辑\nconst useMakeOrderEffect = (productList, shopName, shopId) =>{\n    const router = useRouter()\n    const store = useStore()\n    const handleConfirmOrder = async (isCanceled)=>{\n        const products = []\n        for(let key in productList.value){\n            const product = productList.value[key]\n            products.push({id: parseInt(product._id), num: product.count})\n        }\n        console.log(products);\n        try{\n            const result = await post('/api/order',{\n                addressId: 1,\n                shopId,\n                shopName: shopName.value,\n                isCanceled,\n                products\n            })\n            if(result.errno === 0){\n                store.commit('cleanCartProducts', {shopId})\n                router.push({name: 'OrderList'})\n            }\n        }catch(e) {\n            // showToast('下单失败')\n        }\n\n    }\n    return { handleConfirmOrder }\n}\n\n//蒙层展示逻辑\nconst useShowMaskEffect = () =>{\n    const showConfirm = ref(false)\n    const handleSubmitClick = (status) =>{\n        showConfirm.value = status\n    }\n    return {handleSubmitClick, showConfirm}\n}\n\nexport default {\n    name: 'Order',\n    setup(){\n        const route = useRoute()\n        const shopId = parseInt(route.params.id)\n        const { calculations, shopName,productList} = useCommonCartEffect(shopId)\n        const {handleConfirmOrder} = useMakeOrderEffect(productList, shopName, shopId)\n        const {handleSubmitClick, showConfirm} = useShowMaskEffect()\n        \n        return { calculations, handleConfirmOrder, showConfirm, handleSubmitClick}\n    },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n.order{\n    position: fixed;\n    bottom: 0;\n    display: flex;\n    width: 100%;\n    height: .49rem;\n    line-height: .49rem;\n    background: $bgColor;\n    &__price{\n        flex: 1;\n        text-indent: .24rem;\n        font-size: .14rem;\n        color: $content-fontcolor;\n    }\n    &__btn{\n        width: .98rem;\n        background: #4FB0F9;\n        color: $bgColor;\n        text-align: center;\n        font-size: .14rem;\n    }\n}\n.mask{\n    z-index: 1;\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    top: 0;\n    background: rgba(0,0,0,0.50);\n    &__content{\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        width: 3rem;\n        height: 1.56rem;\n        background: #FFF;\n        border-radius: .04rem;\n        text-align: center;\n        &__title{\n            margin-top: .24rem 0 0 0;\n            line-height: .26rem;\n            font-size: .18rem;\n            color: #333;\n            \n        }\n        &__desc{\n            margin-top: .08rem 0 0 0;\n            font-size: .14rem;\n            color: #666;\n        }\n        &__btns{\n            display: flex;\n            margin: .24rem .58rem;\n        }\n        &__btn{\n            flex: 1;\n            width: .8rem;\n            line-height: .32rem;\n            border-radius: .16rem;\n            font-size: .14rem;\n            &--first{\n                margin-right: .12rem;\n                border: .01rem solid #4FB0F9;\n                color: #4FB0F9;\n            }\n            &--last{\n                margin-left: .12rem;\n                background: #4FB0F9;\n                color: #fff;\n            }\n        }\n    }\n}\n</style>","import { render } from \"./Order.vue?vue&type=template&id=463389cc&scoped=true\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\n\nimport \"./Order.vue?vue&type=style&index=0&id=463389cc&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-463389cc\"\n\nexport default script","import { render } from \"./OrderConfirmation.vue?vue&type=template&id=4eeb2fef&scoped=true\"\nimport script from \"./OrderConfirmation.vue?vue&type=script&lang=js\"\nexport * from \"./OrderConfirmation.vue?vue&type=script&lang=js\"\n\nimport \"./OrderConfirmation.vue?vue&type=style&index=0&id=4eeb2fef&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4eeb2fef\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TopArea.vue?vue&type=style&index=0&id=fcaf356a&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./OrderConfirmation.vue?vue&type=style&index=0&id=4eeb2fef&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Order.vue?vue&type=style&index=0&id=463389cc&lang=scss&scoped=true\""],"sourceRoot":""}