(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderConfirmation"],{1148:function(t,e,c){"use strict";var r=c("a691"),n=c("1d80");t.exports=function(t){var e=String(n(this)),c="",a=r(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(c+=e);return c}},"408a":function(t,e,c){var r=c("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},"617e":function(t,e,c){"use strict";c("eeca")},"6a08":function(t,e,c){},"75c9":function(t,e,c){"use strict";c.d(e,"a",(function(){return a}));c("b680");var r=c("7a23"),n=c("5502"),a=function(t){var e=Object(n["b"])(),c=e.state.cartList,a=function(t,c,r,n){e.commit("changeCartItemInfo",{shopId:t,productId:c,productInfo:r,num:n})},i=Object(r["b"])((function(){var e,r=(null===(e=c[t])||void 0===e?void 0:e.productList)||[],n={};for(var a in r){var i=r[a];i.count>0&&(n[a]=i)}return n})),o=Object(r["b"])((function(){var e,r=(null===(e=c[t])||void 0===e?void 0:e.shopName)||"";return r})),s=Object(r["b"])((function(){var e,r=null===(e=c[t])||void 0===e?void 0:e.productList,n={total:0,price:0,allChecked:!0};if(r)for(var a in r){var i=r[a];n.total+=i.count,i.check&&(n.price+=i.count*i.price),i.count>0&&!i.check&&(n.allChecked=!1)}return n.price=n.price.toFixed(2),n}));return{changeCartItemInfo:a,productList:i,cartList:c,shopName:o,calculations:s}}},b680:function(t,e,c){"use strict";var r=c("23e7"),n=c("a691"),a=c("408a"),i=c("1148"),o=c("d039"),s=1..toFixed,d=Math.floor,u=function(t,e,c){return 0===e?c:e%2===1?u(t,e-1,c*t):u(t*t,e/2,c)},l=function(t){var e=0,c=t;while(c>=4096)e+=12,c/=4096;while(c>=2)e+=1,c/=2;return e},b=function(t,e,c){var r=-1,n=c;while(++r<6)n+=e*t[r],t[r]=n%1e7,n=d(n/1e7)},f=function(t,e){var c=6,r=0;while(--c>=0)r+=t[c],t[c]=d(r/e),r=r%e*1e7},_=function(t){var e=6,c="";while(--e>=0)if(""!==c||0===e||0!==t[e]){var r=String(t[e]);c=""===c?r:c+i.call("0",7-r.length)+r}return c},v=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){s.call({})}));r({target:"Number",proto:!0,forced:v},{toFixed:function(t){var e,c,r,o,s=a(this),d=n(t),v=[0,0,0,0,0,0],p="",O="0";if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(p="-",s=-s),s>1e-21)if(e=l(s*u(2,69,1))-69,c=e<0?s*u(2,-e,1):s/u(2,e,1),c*=4503599627370496,e=52-e,e>0){b(v,0,c),r=d;while(r>=7)b(v,1e7,0),r-=7;b(v,u(10,r,1),0),r=e-1;while(r>=23)f(v,1<<23),r-=23;f(v,1<<r),b(v,1,1),f(v,2),O=_(v)}else b(v,0,c),b(v,1<<-e,0),O=_(v)+i.call("0",d);return d>0?(o=O.length,O=p+(o<=d?"0."+i.call("0",d-o)+O:O.slice(0,o-d)+"."+O.slice(o-d))):O=p+O,O}})},b957:function(t,e,c){"use strict";c.r(e);var r=c("7a23"),n=Object(r["I"])("data-v-4eeb2fef");Object(r["t"])("data-v-4eeb2fef");var a={class:"wrapper"};Object(r["r"])();var i=n((function(t,e,c,n,i,o){var s=Object(r["x"])("TopArea"),d=Object(r["x"])("ProductList"),u=Object(r["x"])("Order");return Object(r["q"])(),Object(r["d"])("div",a,[Object(r["h"])(s),Object(r["h"])(d),Object(r["h"])(u)])})),o=Object(r["I"])("data-v-fcaf356a");Object(r["t"])("data-v-fcaf356a");var s={class:"top"},d={class:"top__header"},u=Object(r["g"])(" 确认订单 "),l=Object(r["f"])('<div class="top__receiver" data-v-fcaf356a><div class="top__receiver__title" data-v-fcaf356a>收货地址</div><div class="top__receiver__address" data-v-fcaf356a>北京理工大学国防科技园2号楼10层</div><div class="top__receiver__info" data-v-fcaf356a><span class="top__receiver__info__name" data-v-fcaf356a>瑶妹 (先生) </span><span class="top__receiver__info__iphone" data-v-fcaf356a>18911024266 </span></div><div class="top__receiver__icon iconfont" data-v-fcaf356a></div></div>',1);Object(r["r"])();var b=o((function(t,e,c,n,a,i){return Object(r["q"])(),Object(r["d"])("div",s,[Object(r["h"])("div",d,[Object(r["h"])("div",{class:"top__header__back iconfont",onClick:e[1]||(e[1]=function(){return n.handleBackClick&&n.handleBackClick.apply(n,arguments)})},""),u]),l])})),f=c("6c02"),_={name:"TopArea",setup:function(){var t=Object(f["d"])(),e=function(){t.back()};return{handleBackClick:e}}};c("f0bb");_.render=b,_.__scopeId="data-v-fcaf356a";var v=_,p=(c("b0c0"),c("b680"),Object(r["I"])("data-v-d69e36d0"));Object(r["t"])("data-v-d69e36d0");var O={class:"products"},h={class:"products__title"},j={class:"products__list"},m={class:"products__item__detail"},k={class:"products__item__title"},C={class:"products__item__price"},w=Object(r["h"])("span",{class:"products__item__yen"},"¥",-1),g={class:"products__item__total"},I=Object(r["h"])("span",{class:"products__item__yen"},"¥",-1);Object(r["r"])();var x=p((function(t,e,c,n,a,i){return Object(r["q"])(),Object(r["d"])("div",O,[Object(r["h"])("div",h,Object(r["z"])(n.shopName),1),Object(r["h"])("div",j,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(n.productList,(function(t){return Object(r["q"])(),Object(r["d"])("div",{class:"products__item",key:t._id},[Object(r["h"])("img",{class:"products__item__img",src:t.imgUrl},null,8,["src"]),Object(r["h"])("div",m,[Object(r["h"])("h4",k,Object(r["z"])(t.name),1),Object(r["h"])("p",C,[Object(r["h"])("span",null,[w,Object(r["g"])(" "+Object(r["z"])(t.price)+" x "+Object(r["z"])(t.count),1)]),Object(r["h"])("span",g,[I,Object(r["g"])(" "+Object(r["z"])((t.price*t.count).toFixed(2)),1)])])])])})),128))])])})),L=c("75c9"),N={name:"ProductList",setup:function(){var t=Object(f["c"])(),e=t.params.id,c=Object(L["a"])(e),r=c.productList,n=c.shopName;return{productList:r,shopName:n}}};c("617e");N.render=x,N.__scopeId="data-v-d69e36d0";var F=N,S=Object(r["I"])("data-v-463389cc");Object(r["t"])("data-v-463389cc");var y={class:"order"},q={class:"order__price"},z=Object(r["g"])("实付金额 ¥"),P=Object(r["h"])("h3",{class:"mask__content__title"},"确定要离开收银台?",-1),R=Object(r["h"])("p",{class:"mask__content__desc"},"请尽快完成支付,否则将被取消",-1),T={class:"mask__content__btns"};Object(r["r"])();var A=S((function(t,e,c,n,a,i){return Object(r["q"])(),Object(r["d"])("div",null,[Object(r["h"])("div",y,[Object(r["h"])("div",q,[z,Object(r["h"])("b",null,Object(r["z"])(n.calculations.price),1)]),Object(r["h"])("div",{class:"order__btn",onClick:e[1]||(e[1]=function(){return n.handleSubmitClick(!0)})},"提交订单")]),Object(r["G"])(Object(r["h"])("div",{class:"mask",onClick:e[5]||(e[5]=function(){return n.handleSubmitClick(!1)})},[Object(r["h"])("div",{class:"mask__content",onClick:e[4]||(e[4]=Object(r["H"])((function(){}),["stop"]))},[P,R,Object(r["h"])("div",T,[Object(r["h"])("div",{class:"mask__content__btn mask__content__btn--first",onClick:e[2]||(e[2]=function(){return n.handleConfirmOrder(!0)})}," 取消订单 "),Object(r["h"])("div",{class:"mask__content__btn mask__content__btn--last",onClick:e[3]||(e[3]=function(){return n.handleConfirmOrder(!1)})}," 确认支付 ")])])],512),[[r["D"],n.showConfirm]])])})),B=c("1da1"),E=(c("96cf"),c("5502")),J=c("b775"),D=function(t,e,c){var r=Object(f["d"])(),n=Object(E["b"])(),a=function(){var a=Object(B["a"])(regeneratorRuntime.mark((function a(i){var o,s,d,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(s in o=[],t.value)d=t.value[s],o.push({id:parseInt(d._id),num:d.count});return console.log(o),a.prev=3,a.next=6,Object(J["b"])("/api/order",{addressId:1,shopId:c,shopName:e.value,isCanceled:i,products:o});case 6:u=a.sent,0===u.errno&&(n.commit("cleanCartProducts",{shopId:c}),r.push({name:"OrderList"})),a.next=12;break;case 10:a.prev=10,a.t0=a["catch"](3);case 12:case"end":return a.stop()}}),a,null,[[3,10]])})));return function(t){return a.apply(this,arguments)}}();return{handleConfirmOrder:a}},G=function(){var t=Object(r["v"])(!1),e=function(e){t.value=e};return{handleSubmitClick:e,showConfirm:t}},H={name:"Order",setup:function(){var t=Object(f["c"])(),e=parseInt(t.params.id),c=Object(L["a"])(e),r=c.calculations,n=c.shopName,a=c.productList,i=D(a,n,e),o=i.handleConfirmOrder,s=G(),d=s.handleSubmitClick,u=s.showConfirm;return{calculations:r,handleConfirmOrder:o,showConfirm:u,handleSubmitClick:d}}};c("f744");H.render=A,H.__scopeId="data-v-463389cc";var M=H,U={name:"OrderConfirmation",components:{TopArea:v,ProductList:F,Order:M}};c("f504");U.render=i,U.__scopeId="data-v-4eeb2fef";e["default"]=U},baa3:function(t,e,c){},bb39:function(t,e,c){},eeca:function(t,e,c){},f0bb:function(t,e,c){"use strict";c("baa3")},f504:function(t,e,c){"use strict";c("bb39")},f744:function(t,e,c){"use strict";c("6a08")}}]);
//# sourceMappingURL=orderConfirmation.019340ec.js.map