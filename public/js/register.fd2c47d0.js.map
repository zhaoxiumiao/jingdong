{"version":3,"sources":["webpack:///./src/views/register/Register.vue?219e","webpack:///./src/components/Toast.vue","webpack:///./src/components/Toast.vue?23c7","webpack:///./src/views/register/Register.vue","webpack:///./src/views/register/Register.vue?4187","webpack:///./src/components/Toast.vue?3ada"],"names":["class","message","props","toasData","show","toastMessage","showToast","setTimeout","render","__scopeId","src","placeholder","username","type","password","ensurement","handleRegisterClick","handleLoginClick","router","data","result","errno","push","name","components","Toast","setup"],"mappings":"4GAAA,W,mKCCOA,MAAM,S,wEAAX,eAAoC,MAApC,EAAoC,eAAf,EAAAC,SAAO,MAMf,GACXC,MAAO,CAAC,YAEC,EAAgB,WACzB,IAAMC,EAAW,eAAS,CACtBC,MAAM,EACNC,aAAc,KAEZC,EAAY,SAACL,GACfE,EAASC,MAAO,EAChBD,EAASE,aAAeJ,EACxBM,YAAW,WACPJ,EAASC,MAAO,EAChBD,EAASE,aAAe,KAC1B,MAEN,EAA6B,eAAOF,GAA7BC,EAAP,EAAOA,KAAMC,EAAb,EAAaA,aACb,MAAO,CAAED,OAAMC,eAAcC,c,UCnBjC,EAAOE,OAASA,EAChB,EAAOC,UAAY,kBAEJ,U,wICPRT,MAAM,W,EACP,eAA2E,OAAtEA,MAAM,eAAeU,IAAI,8C,YACzBV,MAAM,kB,GAONA,MAAM,kB,GAQNA,MAAM,kB,sGAjBf,eA4BM,MA5BN,EA4BM,CA3BF,EACA,eAMM,MANN,EAMM,C,eALF,eAIG,SAHDA,MAAM,0BACNW,YAAY,S,qDACH,EAAAC,SAAQ,K,mBAAR,EAAAA,cAGf,eAOM,MAPN,EAOM,C,eANF,eAKG,SAJDZ,MAAM,0BACNW,YAAY,QACZE,KAAK,W,qDACI,EAAAC,SAAQ,K,mBAAR,EAAAA,cAGf,eAOM,MAPN,EAOM,C,eANF,eAKC,SAJDd,MAAM,0BACNW,YAAY,OACZE,KAAK,W,qDACI,EAAAE,WAAU,K,mBAAV,EAAAA,gBAGb,eAA2E,OAAtEf,MAAM,2BAA4B,QAAK,8BAAE,EAAAgB,qBAAA,EAAAA,oBAAA,sBAAqB,MACnE,eAA0E,OAArEhB,MAAM,yBAA0B,QAAK,8BAAE,EAAAiB,kBAAA,EAAAA,iBAAA,sBAAkB,UACjD,EAAAb,M,iBAAb,eAA4C,G,MAAxBH,QAAS,EAAAI,c,4GAW7B,EAAoB,SAACC,GACvB,IAAMY,EAAS,iBACTC,EAAO,eAAS,CAACP,SAAU,GAAIE,SAAU,GAAGC,WAAY,KACxDC,EAAkB,yDAAI,6GACjBJ,EAAkCO,EAAlCP,SAAUE,EAAwBK,EAAxBL,SAAUC,EAAcI,EAAdJ,WACX,KAAbH,GAAgC,KAAbE,GAAkC,KAAfC,EAFjB,uBAGpBT,EAAU,OAHU,6BAMrBQ,IAAaC,EANQ,uBAOpBT,EAAU,aAPU,oDAWC,eAAK,qBAAqB,CAC3CM,SAAUO,EAAKP,SACfE,SAAUK,EAAKL,WAbC,QAWdM,EAXc,OAeA,IAAjBA,EAAOC,MACNH,EAAOI,KAAK,CAACC,KAAM,UAEnBjB,EAAU,QAlBM,qDAqBpBA,EAAU,QArBU,0DAAJ,qDAyBxB,EAAyC,eAAOa,GAAzCP,EAAP,EAAOA,SAAUE,EAAjB,EAAiBA,SAAUC,EAA3B,EAA2BA,WAC3B,MAAO,CAACH,WAAUE,WAAUE,sBAAqBD,eAG/C,EAAiB,WACnB,IAAMG,EAAS,iBACTD,EAAkB,WACpBC,EAAOI,KAAK,CAACC,KAAK,WAEtB,MAAO,CAACN,qBAGG,GACXM,KAAM,WACNC,WAAW,CAAEC,QAAA,MACbC,MAHW,WAIP,MAA0C,iBAAlCtB,EAAR,EAAQA,KAAMC,EAAd,EAAcA,aAAcC,EAA5B,EAA4BA,UAC5B,EAA8D,EAAkBA,GAAzEM,EAAP,EAAOA,SAAUE,EAAjB,EAAiBA,SAAUE,EAA3B,EAA2BA,oBAAqBD,EAAhD,EAAgDA,WAChD,EAA2B,IAApBE,EAAP,EAAOA,iBAEP,MAAO,CACHL,WAAUE,WAAUC,aACpBC,sBAAqBC,mBACrBb,OAAMC,kB,UCrFlB,EAAOG,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,gFCRf","file":"js/register.fd2c47d0.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Register.vue?vue&type=style&index=0&id=57f4855e&lang=scss&scoped=true\"","<template>\n  <div class=\"toast\">{{message}}</div>\n</template>\n\n<script>\nimport {reactive, toRefs} from 'vue'\n\nexport default {\n    props: ['message']\n}\nexport const useToastEffect =() =>{\n    const toasData = reactive({\n        show: false,\n        toastMessage: ''\n    })\n    const showToast = (message) =>{\n        toasData.show = true\n        toasData.toastMessage = message\n        setTimeout(()=>{\n            toasData.show = false\n            toasData.toastMessage = ''\n        },2000)\n    }\n    const {show, toastMessage} = toRefs(toasData)\n    return { show, toastMessage, showToast }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../style/viriables.scss';\n.toast{\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    padding: .1rem;\n    background: rgba(0, 0, 0, .35);\n    border-radius: .05rem;\n    color: $bgColor;\n}\n</style>","import { render } from \"./Toast.vue?vue&type=template&id=c7ab7ece&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=c7ab7ece&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-c7ab7ece\"\n\nexport default script","<template>\n  <div class=\"wrapper\">\n      <img class=\"wrapper__img\" src=\"http://www.dell-lee.com/imgs/vue3/user.png\">\n      <div class=\"wrapper__input\">\n          <input \n            class=\"wrapper__input__content\" \n            placeholder=\"请输入用户名\"\n            v-model=\"username\"\n            >\n      </div>\n      <div class=\"wrapper__input\">\n          <input\n            class=\"wrapper__input__content\"\n            placeholder=\"请输入密码\"\n            type=\"password\"\n            v-model=\"password\"\n            >\n      </div>\n      <div class=\"wrapper__input\">\n          <input\n          class=\"wrapper__input__content\"\n          placeholder=\"确认密码\"\n          type=\"password\"\n          v-model=\"ensurement\"\n          >\n      </div>\n      <div class=\"wrapper__register-button\" @click=\"handleRegisterClick\">注册</div>\n      <div class=\"wrapper__register-link\" @click=\"handleLoginClick\">已有账号登录</div>\n      <Toast v-if=\"show\" :message=\"toastMessage\"/>\n  </div>\n  \n</template>\n\n<script>\nimport {reactive, toRefs} from 'vue'\nimport {useRouter} from 'vue-router'\nimport {post} from '../../utils/request'\nimport Toast,{ useToastEffect } from '../../components/Toast'\n\nconst useRegisterEffect = (showToast) =>{\n    const router = useRouter();\n    const data = reactive({username: '', password: '',ensurement: ''})\n    const handleRegisterClick = async ()=>{\n        const {username, password, ensurement} = data\n        if(username === '' || password === '' || ensurement === ''){\n            showToast('请输入')\n            return\n        }\n        if(password !== ensurement){\n            showToast('两次输入密码不一致')\n            return \n        }\n        try{\n            const result = await post('/api/user/register',{\n                username: data.username,\n                password: data.password\n            })\n            if(result.errno === 0){//result?.data?.errno不知道什么意思\n                router.push({name: 'Login'})\n            }else{\n                showToast('登录失败')\n            }\n        }catch(e) {\n            showToast('请求失败')\n        }\n\n    }\n    const {username, password, ensurement} = toRefs(data)\n    return {username, password, handleRegisterClick, ensurement}\n}\n// 处理登录点击\nconst useLoginEffect = () =>{\n    const router = useRouter();\n    const handleLoginClick =() =>{\n        router.push({name:'Login'})\n    }\n    return {handleLoginClick}\n}\n\nexport default {\n    name: 'Register',\n    components:{ Toast },\n    setup(){\n        const { show, toastMessage, showToast } = useToastEffect()\n        const {username, password, handleRegisterClick, ensurement} = useRegisterEffect(showToast)\n        const {handleLoginClick} = useLoginEffect()\n        \n        return {\n            username, password, ensurement, \n            handleRegisterClick, handleLoginClick,\n            show, toastMessage\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n.wrapper{\n    position: absolute;\n    top:50%;\n    left: 0;\n    right: 0;\n    transform: translateY(-50%);\n    &__img{\n        display: block;\n        margin: 0 auto .4rem auto;\n        width: .66rem;\n        height: .66rem;\n    }\n    &__input{\n        height: .48rem;\n        margin: 0 .4rem .16rem .4rem;\n        padding: 0 .16rem;\n        background: #f9f9f9;\n        border: .01rem solid rgba(0,0,0,0.10);\n        border-radius: .06rem;\n        &__content{\n            line-height: .48rem;\n            border: none;\n            outline: none;\n            width: 100%;\n            background: none;\n            color: $content-notice-fontcolor;\n            &::placeholder{\n                color: $content-notice-fontcolor;\n            }\n        }\n    }\n    &__register-button{\n        margin: .32rem .4rem .16rem .4rem;\n        line-height: .48rem;\n        background: $btn-bgColor;\n        box-shadow: 0 .04rem .08rem 0 rgba(0,145,255,0.32);\n        border-radius: .04rem;\n        color: $bgColor;\n        font-size: .16rem;\n        text-align: center;\n    }\n    &__register-link{\n        text-align: center;\n        font-size: .14rem;\n        color: $content-notice-fontcolor;\n    }\n}\n</style>","import { render } from \"./Register.vue?vue&type=template&id=57f4855e&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=57f4855e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-57f4855e\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Toast.vue?vue&type=style&index=0&id=c7ab7ece&lang=scss&scoped=true\""],"sourceRoot":""}